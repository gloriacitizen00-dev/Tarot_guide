<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>The Familiar's Guidance Spread</title>

<style>
body {
  font-family: Arial, sans-serif;
  background-color: #fdf6e3;
  color: #333;
  text-align: center;
  padding-top: 30px;
}

.row {
  display: flex;
  justify-content: center;
  gap: 15px;
  margin-bottom: 20px;
  flex-wrap: wrap;
}

.card-block {
  width: 220px;
}

.card-block img {
  width: 100%;
  border-radius: 8px;
  border: 2px solid #444;
}

.final-reading {
  margin-top: 40px;
  padding: 20px;
  border-top: 2px solid #444;
  max-width: 900px;
  margin-left: auto;
  margin-right: auto;
  text-align: left;
}
</style>
</head>

<body>

<h1>The Familiar's Guidance Spread</h1>
<p>This spread uses 10 cards.</p>

<div class="row row-top"></div>
<div class="row row-bottom"></div>

<div id="final-analysis" class="final-reading"></div>

<script>
/* ---------- READ CARDS FROM URL ---------- */
const params = new URLSearchParams(window.location.search);
let cards = [];

try {
  cards = JSON.parse(params.get("cards")) || [];
} catch {
  cards = [];
}

/* ---------- POSITIONS ---------- */
const tenCardPositions = [
  "What you have already survived",
  "A lesson that shaped your resilience",
  "A past ending that transformed you",
  "A strength you are rediscovering",
  "An instinct that protected you",
  "Your current state of renewal",
  "A challenge testing your adaptability",
  "A lesson still unfolding",
  "A hidden ally or influence",
  "The wisdom you are growing into"
];

/* ---------- RENDER ---------- */
const topRow = document.querySelector(".row-top");
const bottomRow = document.querySelector(".row-bottom");

cards.slice(0, 10).forEach((cardPath, index) => {
  const block = document.createElement("div");
  block.className = "card-block";

  block.innerHTML = `
    <img src="${cardPath}" alt="Tarot Card">
    <h4>${tenCardPositions[index]}</h4>
  `;

  if (index < 5) {
    topRow.appendChild(block);
  } else {
    bottomRow.appendChild(block);
  }
});

/* ---------- FINAL TEXT ---------- */
document.getElementById("final-analysis").innerHTML = `
<h3>Final Reflection</h3>
<p>
The Familiar observes quietly. The cards reveal survival, instinct, and growth.
What comes next is shaped by awareness and trust in yourself.
</p>
`;
</script>

</body>
</html>
