<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Familiar's Guidance</title>
  <style>
    #familiar-spread { display:flex; flex-direction:column; align-items:center; margin-top:30px; }
    .row { display:flex; justify-content:center; margin:10px 0; }
    .tarot-card { width:120px; height:auto; margin:0 8px; }
  </style>
</head>
<body>
  <h1>Familiar's Guidance Spread</h1>
  <div id="familiar-spread"></div>

  <script>
    const params = new URLSearchParams(window.location.search);
    const deckChoice = params.get("deck");

    const decks = {
      major: [
        "images/MajorArcana/Fool.png","images/MajorArcana/Magician.png","images/MajorArcana/HighPriestess.png",
        "images/MajorArcana/Empress.png","images/MajorArcana/Emperor.png","images/MajorArcana/Hierophant.png",
        "images/MajorArcana/Lovers.png","images/MajorArcana/Chariot.png","images/MajorArcana/Strength.png",
        "images/MajorArcana/Hermit.png","images/MajorArcana/WheelofFortune.png","images/MajorArcana/Justice.png",
        "images/MajorArcana/HangedMan.png","images/MajorArcana/Death.png","images/MajorArcana/Temperance.png",
        "images/MajorArcana/Devil.png","images/MajorArcana/Tower.png","images/MajorArcana/Star.png",
        "images/MajorArcana/Moon.png","images/MajorArcana/Sun.png","images/MajorArcana/Judgement.png",
        "images/MajorArcana/World.png"
      ],
      cups: [
        "images/Cups/AceofCups.png","images/Cups/TwoofCups.png","images/Cups/ThreeofCups.png","images/Cups/FourofCups.png",
        "images/Cups/FiveofCups.png","images/Cups/SixofCups.png","images/Cups/SevenofCups.png","images/Cups/EightofCups.png",
        "images/Cups/NineofCups.png","images/Cups/TenofCups.png","images/Cups/PageofCups.png","images/Cups/KnightofCups.png",
        "images/Cups/QueenofCups.png","images/Cups/KingofCups.png"
      ],
      swords: [
        "images/Swords/AceofSwords.png","images/Swords/TwoofSwords.png","images/Swords/ThreeofSwords.png","images/Swords/FourofSwords.png",
        "images/Swords/FiveofSwords.png","images/Swords/SixofSwords.png","images/Swords/SevenofSwords.png","images/Swords/EightofSwords.png",
        "images/Swords/NineofSwords.png","images/Swords/TenofSwords.png","images/Swords/PageofSwords.png","images/Swords/KnightofSwords.png",
        "images/Swords/QueenofSwords.png","images/Swords/KingofSwords.png"
      ],
      pentacles: [
        "images/Pentacles/AceofPentacles.png","images/Pentacles/TwoofPentacles.png","images/Pentacles/ThreeofPentacles.png","images/Pentacles/FourofPentacles.png",
        "images/Pentacles/FiveofPentacles.png","images/Pentacles/SixofPentacles.png","images/Pentacles/SevenofPentacles.png","images/Pentacles/EightofPentacles.png",
        "images/Pentacles/NineofPentacles.png","images/Pentacles/TenofPentacles.png","images/Pentacles/PageofPentacles.png","images/Pentacles/KnightofPentacles.png",
        "images/Pentacles/QueenofPentacles.png","images/Pentacles/KingofPentacles.png"
      ],
      wands: [
        "images/Wands/AceofWands.png","images/Wands/TwoofWands.png","images/Wands/ThreeofWands.png","images/Wands/FourofWands.png",
        "images/Wands/FiveofWands.png","images/Wands/SixofWands.png","images/Wands/SevenofWands.png","images/Wands/EightofWands.png",
        "images/Wands/NineofWands.png","images/Wands/TenofWands.png","images/Wands/PageofWands.png","images/Wands/KnightofWands.png",
        "images/Wands/QueenofWands.png","images/Wands/KingofWands.png"
      ]
    };

    function getRandomCards(deckArray, count) {
      return deckArray.sort(() => Math.random() - 0.5).slice(0, count);
    }

    function buildFamiliarSpread(deckChoice) {
      const spreadContainer = document.getElementById("familiar-spread");
      spreadContainer.innerHTML = "";

      let chosenDeck;
      if (deckChoice === "major") {
        chosenDeck = decks.major;
      } else if (deckChoice === "minor") {
        chosenDeck = [...decks.cups, ...decks.swords, ...decks.pentacles, ...decks.wands];
      } else if (deckChoice === "mixed") {
        chosenDeck = [...decks.major, ...decks.cups, ...decks.swords, ...decks.pentacles, ...decks.wands];
      } else {
        spreadContainer.innerHTML = "<p>Deck not found.</p>";
        return;
      }

      const selectedCards = getRandomCards(chosenDeck, 10);

      for (let row = 0; row < 2; row++) {
        const rowDiv = document.createElement("div");
        rowDiv.className = "row";

        for (let i = 0; i < 5; i++) {
          const cardIndex = row * 5 + i;
          const img = document.createElement("img");
          img.src = selectedCards[cardIndex];
          img.className = "tarot-card";
          rowDiv.appendChild(img);
        }
        spreadContainer.appendChild(rowDiv);
      }
    }

    buildFamiliarSpread(deckChoice);
  </script>
</body>
</html>
