<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Checkout</title>
<style>
  body {
    font-family: Arial, sans-serif;
    background-color: #f5f5f5;
    padding: 40px;
    text-align: center;
  }

  h1 { color: #6a5acd; margin-bottom: 20px; }

  table {
    margin: 0 auto 30px auto;
    border-collapse: collapse;
    width: 80%;
    max-width: 600px;
  }

  th, td {
    padding: 10px 15px;
    border: 1px solid #ccc;
    text-align: center;
  }

  th { background-color: #6a5acd; color: white; }

  .btn {
    padding: 12px 25px;
    font-size: 16px;
    border: none;
    border-radius: 8px;
    cursor: pointer;
    margin: 10px;
    color: white;
  }

  .btn-paypal { background-color: #FF9900; }
  .btn-sinpe { background-color: #4CAF50; }
  .btn-back { background-color: #555; }

</style>
</head>
<body>

<h1>Resumen de tu carrito</h1>

<table id="cart-table">
  <thead>
    <tr>
      <th>Producto</th>
      <th>Cantidad</th>
      <th>Precio Unitario</th>
      <th>Subtotal</th>
    </tr>
  </thead>
  <tbody>
    <!-- Productos se insertarán aquí -->
  </tbody>
</table>

<h2 id="total">Total: $0.00</h2>

<button class="btn btn-paypal" onclick="pay('paypal')">Pagar con PayPal</button>
<button class="btn btn-sinpe" onclick="pay('sinpe')">Pagar con Sinpe</button>
<br>
<button class="btn btn-back" onclick="goBack()">Volver a productos</button>

<script>
  const cart = JSON.parse(localStorage.getItem('cart')) || {};

  const productsData = {
    "Producto 1": 25.00,
    "Producto 2": 20.00,
    "Producto 3": 15.00
  };

  const tbody = document.querySelector('#cart-table tbody');
  let total = 0;

  for (let name in cart) {
    let qty = cart[name];
    let price = productsData[name] || 0;
    let subtotal = price * qty;
    total += subtotal;

    let tr = document.createElement('tr');
    tr.innerHTML = `<td>${name}</td>
                    <td>${qty}</td>
                    <td>$${price.toFixed(2)}</td>
                    <td>$${subtotal.toFixed(2)}</td>`;
    tbody.appendChild(tr);
  }

  document.getElementById('total').textContent = `Total: $${total.toFixed(2)}`;

  function goBack() {
    window.location.href = 'products.html';
  }

  function pay(method) {
    if(method==='paypal') {
      alert('Aquí redirigirías a PayPal con el carrito...');
      // Aquí luego se integrará PayPal
    } else {
      alert('Aquí redirigirías a Sinpe con el carrito...');
      // Aquí se integrará Sinpe
    }
  }
</script>

</body>
</html>
